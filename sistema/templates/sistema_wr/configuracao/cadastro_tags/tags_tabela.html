{% if tags %}
<div class="table-responsive">
    <table class="table table-vcenter card-table table-striped text-center">
        <thead>
            <tr>
                <th>Tag</th>
                <th>Data Cadastro</th>
                <th>Descrição</th>
                <th class="w-1">Ações</th>
            </tr>
        </thead>
        <tbody>
            {% for tag in tags %}
            <tr>

                <td>
                    <span class="badge badge-outline {{ tag.cor }} px-2 py-2">
                       {{ tag.nome }}
                    </span>
                </td>

                <td>
                    <span>
                        {{ tag.data_cadastro.strftime('%d/%m/%Y') }}
                    </span>
                </td>

                <td>
                    {% if tag.descricao %}
                    <span class="text-muted">{{ tag.descricao | truncate(60) }}</span>
                    {% else %}
                    <span class="text-muted">—</span>
                    {% endif %}
                </td>

                <td>
                    <div class="btn-list justify-content-center flex-nowrap">
                        <!-- Botão Editar -->
                        <button class="btn btn-icon btn-outline-warning"
                            onclick="editarTag({{ tag.id }}, '{{ tag.nome }}', '{{ tag.cor }}', '{{ tag.descricao or '' }}')"
                            title="Editar tag">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24"
                                viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <path d="M7 7h-1a2 2 0 0 0 -2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2 -2v-1" />
                                <path d="M20.385 6.585a2.1 2.1 0 0 0 -2.97 -2.97l-8.415 8.385v3h3l8.385 -8.415z" />
                                <path d="M16 5l3 3" />
                            </svg>
                        </button>

                        <!-- Botão Deletar -->
                        <button class="btn btn-icon btn-outline-danger"
                            onclick="deletarTag({{ tag.id }}, '{{ tag.nome }}')" title="Deletar tag">
                            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24"
                                viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none"
                                stroke-linecap="round" stroke-linejoin="round">
                                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                                <line x1="4" y1="7" x2="20" y2="7" />
                                <line x1="10" y1="11" x2="10" y2="17" />
                                <line x1="14" y1="11" x2="14" y2="17" />
                                <path d="M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12" />
                                <path d="M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3" />
                            </svg>
                        </button>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

</div>

{% else %}
<!-- Estado vazio -->
<div class="empty">
    <div class="empty-icon">
        <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler-mood-empty" width="24" height="24"
            viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round"
            stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none" />
            <circle cx="12" cy="12" r="9" />
            <line x1="9" y1="10" x2="9.01" y2="10" />
            <line x1="15" y1="10" x2="15.01" y2="10" />
            <path d="M9.5 15.25a3.5 3.5 0 0 1 5 0" />
        </svg>
    </div>
    <p class="empty-title">Nenhuma tag cadastrada</p>
    <p class="empty-subtitle text-muted">
        Crie sua primeira tag customizada para organizar melhor suas informações.
    </p>
    <div class="empty-action">
        <a href="{{ url_for('tags_cadastrar') }}" class="btn btn-primary">
            <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24"
                stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
                <path stroke="none" d="M0 0h24v24H0z" fill="none" />
                <line x1="12" y1="5" x2="12" y2="19" />
                <line x1="5" y1="12" x2="19" y2="12" />
            </svg>
            Criar uma Tag
        </a>
    </div>
</div>
{% endif %}